ServerRoot "/usr/local/apache2"
Listen 80
ServerName localhost

LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_http_module modules/mod_proxy_http.so

User daemon
Group daemon

DocumentRoot "/usr/local/apache2/htdocs"

<Directory "/usr/local/apache2/htdocs">
    #indexesは本番環境では消す
    Options Indexes FollowSymLinks
    AllowOverride None
    Require all granted
</Directory>

DirectoryIndex index.html

#リバースプロキシ設定
ProxyRequests Off

#/api/以下はSpringBootバックエンドへ転送
ProxyPass "/api/" "http://backend:8080/api/"
ProxyPassReverse "/api/" "http://backend:8080/api/"

#ログ出力
ErrorLog /proc/self/fd/2
CustomLog /proc/self/fd/1 common
